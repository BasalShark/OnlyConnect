//Game walls
var w1_1 = ["Stone", "Information", "Middle", "Bronze", "Angel", "Lemon", "Basking", "Tiger", "Rolling", "Median", "Mean", "Mode", "Classical", "Soul", "Rock", "Blues"];
var w1_2 = ["Death", "Mail", "Adder", "Beauty", "Pong", "Snake", "Asteroids", "Gauntlet", "Ace", "Love", "Serve", "Volley", "Cardboard", "Match", "Post", "Tool"];
var w2_1 = ["Nicholson", "Black", "Frost", "Sparrow", "Link", "Peach", "Daisy", "Toad", "Whitehall", "Buckingham", "Kensington", "Scone", "Rhea", "Penguin", "Emu", "Kiwi"];
var w2_2 = ["Spider", "Strong", "Police", "Fire", "Polo", "Lacrosse", "Hurling", "Hockey", "Bee", "Worm", "Snail", "Fly", "Atlas", "Golf", "Caddy", "Beetle"];
var w3_1 = ["Sonnet", "Ode", "Elegy", "Concrete", "Over", "Floor", "Circuit", "Dash", "Escape", "Control", "Enter", "Shift", "Down", "Galway", "Cork", "Limerick"];
var w3_2 = ["Diamond", "Belfast", "Enterprise", "Victory", "Amber", "Jade", "Onyx", "Jet", "Feud", "Brothers", "Moon", "Orange", "Scratch", "Swift", "Ruby", "Python"];
var w4_1 = ["Bishop", "Major", "Legend", "Sergeant", "Zinc", "AA", "Car", "Watch", "Admiral", "Churchill", "Confused", "Cooperative", "General", "Private", "Mate", "Cadet"];
var w4_2 = ["Cycle", "Polar", "Plane", "Son", "Black", "Sun", "Spectacled", "Panda", "Sloth", "Pride", "Greed", "Wrath", "Murder", "Pack", "School", "Caravan"];
var w5_1 = ["Port", "Hold", "Bridge", "Bow", "Shut", "Count", "Lock", "Cool", "Steady", "Calm", "Compose", "Relax", "Bourbon", "Club", "Nice", "Penguin"];
var w5_2 = ["Barrel", "Cross", "Dutch", "Bass", "Heel", "Cap", "Sole", "Lace", "Corkscrew", "Pike", "Tuck", "Twist", "Bun", "Extension", "Highlight", "Fade"];
var w6_1 = ["Proverbs", "Numbers", "Matthew", "Lamentations", "Word", "Sway", "Defender", "Teams", "Forward", "Keeper", "Wing", "Centre", "Range", "Standing", "Will", "Style"];
var w6_2 = ["Sargasso", "Dead", "Black", "Adriatic", "Red", "Tiananmen", "Trafalgar", "Times", "Sun", "Mirror", "Star", "Telegraph", "North", "Bean", "Flag", "Tad"];
var w7_1 = ["Car", "Home", "Sea", "Love", "Pascal", "Flounder", "Rajah", "Meeko", "Verde", "Town", "Cod", "Blanc", "Sable", "Isabel", "Nook", "Blathers"];
var w7_2 = ["Rollerball", "Fountain", "Felt", "Gel", "Suede", "Velvet", "Jersey", "Canvas", "Tweed", "Spey", "Tyne", "Forth", "Hermit", "Red", "King", "Spider"];
var w8_1 = ["Scope", "Barrel", "Magazine", "Stock", "Black", "Super", "Target", "Hyper", "Animated", "Energized", "Eager", "Stimulated", "Monster", "Rockstar", "Boost", "Relentless"];
var w8_2 = ["City", "Architecture", "Creator", "Kingdoms", "Morse", "Gadget", "Javert", "Clouseau", "State", "Income", "Property", "Council", "Province", "County", "District", "Territory"];
var w9_1 = ["Phoenix", "Austin", "Olympia", "Providence", "Horse", "Will", "Brain", "Nuclear", "Bridge", "String", "Peg", "Neck", "Griffin", "Benu", "Harpy", "Garuda"]; 
var w9_2 = ["Waterloo", "SOS", "Money", "Queen", "Tax", "Test", "Challenge", "Stretch", "Strain", "Scar", "Struck", "Slander", "Honey", "Jelly", "Wax", "Propolis"];
var w10_1 = ["Keep", "Tower", "Bailey", "Stockade", "Rampart", "Bullfrog", "Cockney", "Buckfast", "Brummie", "Geordie", "Mancunian", "RP", "Scouse", "Hotpot", "Casserole", "Stew"]; 
var w10_2 = ["Taboo", "Boggle", "Clue", "Risk", "Twister", "Fab", "Magnum", "Screwball", "Slider", "Sinker", "Eephus", "Curveball", "Social", "Earth", "Rocket", "Con"];
var w11_1 = ["Bridges", "Boyle", "Brand", "Fielding", "Diaz", "Holt", "Hitchcock", "Jeffords", "Santiago", "Lima", "Sucre", "Quito", "Hutch", "Burrow", "Sett", "Lair" ];
var w11_2 = ["Attrition", "Total", "Civil", "Guerilla", "Family", "Property", "Commercial", "Roman", "Shrink", "Wither", "Contract", "Reduce", "Sailing", "Operator", "Criminal", "Over"];
var w12_1 = ["Hubble", "Inception", "Titanic", "Revenant", "Hawking", "Pearl", "Marmaduke", "Malady", "Lemures", "Phantom", "Spectre", "Familiar", "Devil", "Poach", "Baste", "Scramble"];
var w12_2 = ["Emperor", "Fairy", "Macaroni", "Rockhopper", "Rigatoni", "Romeo", "Bernard", "Parishioner", "Lasagne", "Spaghetti", "Penne", "Ravioli", "Belvolio", "Montague", "Mercutio", "Capulet"];
var w13_1 = ["Radioactive", "Demons", "Roots", "Polaroid", "Olympus", "Kodak", "Nikon", "Panasonic", "Canon", "Works", "Oeuvre", "Opus", "Collection", "Brownie", "Decimal", "Vanishing"];
var w13_2 = ["Trolley", "Plaster", "Waste", "Hammer", "Grass", "Mother", "Timber", "Wonder", "Origin", "Steam", "Blizzard", "Epic", "Canal", "Drum", "Nerve", "Anvil"];
var w14_1 = ["Barkley", "Rhye", "Oath", "Acorn", "Magic", "Forever", "Pressure", "Champions", "Premier", "Ivy", "Human", "Super", "Rocket", "Bay", "Sage", "Tarragon"]; 
var w14_2 = ["Tragedy", "Heartbeat", "Stomp", "Chain Reaction", "Combustion", "Search", "Jet", "Steam", "Jeopardy", "Password", "Double Dare", "Wipeout", "Pin", "Biometric", "Certificate", "Key"];  
var w15_1 = ["Heart", "Capital", "Kingdom", "Classic", "Kiss", "Fry", "Door", "Bulldog", "Foal", "Kit", "Lamb", "Chick", "Cub", "Impression", "Modern", "Surreal"]; 
var w15_2 = ["Falcon", "Dome", "Bridge", "Prize", "Apex", "Root", "Sinus", "Palate", "Bug", "Tap", "Wire", "Earwig", "Kite", "Hobby", "Harrier", "Hawk"]; 
var w16_1 = ["Coffee", "Green", "String", "Butter", "Jelly", "Tickle", "Strong", "Bump", "Runner", "Gully", "Slip", "Bowler", "Couloir", "Gulf", "Gorge", "Pass"]
var w16_2 = ["Flubber", "Hook", "Aladdin", "Jumanji", "Mrs. Doubtfire", "Rainwater", "Hearth", "Chair", "Mantle", "Plinth", "Corbel", "Firebox", "Core", "Nucleus", "Crux", "Essence"]

//Other walls (Mine)
var Egg1 = ["Foot", "League", "Stone", "Cable", "Hair", "Disco", "Swing", "Masked", "Reel", "Line", "Rod", "Hook", "Crunch", "Kirk", "America", "Caveman"];
var Egg2 = ["Beethoven", "Snowy", "Pluto", "Bolt", "Spike", "Pass", "Serve", "Dig", "Bed", "Water", "Window", "Reference", "Zimmer","Bach", "Sondheim", "Schumann"];
var Egg3 = ["Pop", "Crackle", "Buzz", "Crunch", "Out", "Dance", "Fast", "Down", "Parking", "Jail", "Chance", "Go", "Cheat", "Bridge", "Gin", "Snap"];
var Egg4 = ["Bar", "Signature", "Quaver", "Rest", "Word", "Road", "Bill", "Breeding", "Square", "Kettle", "Walker", "Sensation", "Skip", "Lead", "Second", "Third"];
var Egg5 = ["Jelen", "Folly", "Bayley", "Rope", "Barratt", "Wimpey", "Bellway", "Persimmon", "Mason", "Canopic", "Jam", "Bell", "West", "Chadwick", "Whitfield", "Glasgow", "Hussain"];
var Egg6 = ["Grieve", "Richards", "Rankin", "Smart", "Eye", "Queue", "Tea", "Oh", "Holland", "Jones", "Cruise", "Hooper", "Curran", "Sultan", "Fi", "Dat"];
//var Egg7 = ["Duncan", "Buchanan", "Mirza", "Moore", "Jones", "Rogers", "Blake", "Dinkley", "Ganner", "Wylie"]


//Other walls (Not mine)
var Molly1 = ["Never", "Master", "Mega", "Hive", "Honey", "Bronze", "Rust", "Sunrise" ,"Civic", "Radar", "Noon", "Madam", "Tango", "Foxtrot", "Kilo", "Echo"];
var MollyGeorge = ["Tornado", "Mosquito", "Mohawk", "Lightning", "Mull", "Rum", "Yell",  "Holy",  "Hurricane", "Wine", "Flute", "Shot", "Bath", "Beer", "Place", "Door"];
var CallumStruan = ["Skye", "Raider", "Perri", "Strokes", "Killers", "Kooks", "Wombats", "Weeknd", "Crown", "Kangaroo", "Sheriff", "High", "Cause", "A", "By", "Path"];
var CallumDylanCharlie = ["Vision", "Scope", "Graph", "Phone", "Who", "Al", "Evil", "Strange", "Condor", "Wolverine", "Ghost", "Pelican", "Flash", "Robin", "Atom", "Storm"]
var CharlieAnnie1 = ["Season", "Suit", "Humour", "Musketeer", "Muse", "Hypnosis", "Narcissism", "Atlas", "Blur", "Pilot", "Wings", "Queen", "Expose", "Rotate", "Filter", "Crop"];
var CharlieAnnie2 = ["Spine", "Leaf", "Sleeve", "Index", "Pinky", "Scrat", "Basil", "Simon", "Ring", "Tape", "Earth", "Hook", "Rodgers", "Hall", "Lennon", "Sonny"];
var AishlingStruan = ["Glass", "Shadow", "Witness", "Lash", "Intersection", "Fall", "Chips", "Pants", "Straight", "Flush", "Pair", "House", "Granny", "Stopper", "Reef", "Slip"];
var MillieIslayLouise1 = ["Persian", "Norwegian Forest", "Munchkin", "Cheshire", "Red", "Bee", "Elizabeth II", "Land", "Screen", "Finger", "News", "Digital", "Dean", "Sherwood", "Dalby", "Galloway"];
var MillieIslayLouise2 = ["Marigold", "Mustard", "Canary", "Lemon", "Tulips", "Carnations", "Daisies", "Buttercup", "Rose", "Lilly", "Islay", "Millie", "Ball", "Stool", "Print", "Note"];
var Mhairi = ["Recombinant", "Crossing", "Assortment", "Variation", "Light", "Cone", "Dim", "Colour", "Consent", "Replacement", "Legislation", "Refinement", "Cooperativity", "Active", "Other", "Change"];
var Anonymous = ["Mouth", "Hole", "Hound", "Bent", "Fever", "Days", "Rules", "Ball", "Mooo", "Candy", "Streets", "Freak", "Beach", "Fall", "Now", "Humanz"];
var JackCallum1 = ["Cat","Kabota","New Holland","Case","Watts","Pine","Rock","Pratt","Reindeer","Narwhal","Sea Lion","Beluga","Dragon","Blue Spruce","Curry","Banyan"];
var JackCallum2 = ["Ney","Marut","Bernadotte","Davout","Moo","Baa","Eee-aaawwww","Oink","Tiber","Thames","Hudson","Potomac","Lee","Grant","Jackson","McClellan"];
var Calum = ["Knife", "Tsunami", "Gnome", "Pneumonoultramicroscopicsilicovolcanoconiosis", "Weetos", "Life Preserver", "Black Hole", "Torus", "Park", "Place", "Avenue", "Road", "Morgan", "Kraken", "Havana", "Lambs"]
var Oli1 = ["Bread", "Water", "New England Homes for the Deaf", "Envy (DEU)", "Ammonia", "Methane", "Table sugar", "Fuel", "Electricity", "Intelligence", "Archery", "Shield", "Debit", "Current", "Ion", "Line"];
var Oli2 = ["The North Pole", "EastEnders", "Westminster Abbey", "South Park", "Hollyoaks", "Dynasty", "Coronation Street", "Al Hayba", "Bethlehem", "Mecca", "Vatican", "Jerusalem", "Victory", "Sun", "Beautiful", "New"];
var Filip = ["Gallium", "Rubidium", "Caesium", "Francium", "Mercury", "Penis", "Leech", "Cayenne Pepper", "Barrel", "Glazing","Edged-Sword", "Helix", "Kneading", "Battering", "Simmering", "Drizzling"];


var lionWords = w16_1;
var waterWords = w16_2;

// Script code below:  --------------------------------------------------------------------------------------------------------\\

var groups = [[],[],[],[]];
var guess = [];
var counter = 0;
var j, value;
var array = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];
var words = [];
var grid = [];
var elem = document.documentElement;	
var alive = true;
var lives = 3;
var numMins = 4;
var buttonNum, found, index;
var coloursList = ["#054970", "#057b5b", "#562042", "#056f7c"]

//Called by hieroglyphs - sets up the wall.	
function beginWall(wallNumber) {
	if (wallNumber == 0) {
		grid = Array.from(lionWords);
	} else {
		grid = Array.from(waterWords);
	}
	words = Array.from(grid);
	openFullScreen();
	shuffleArray(array, words);
	sortGroups(array, words);
	document.getElementById("wall").style.display = "block";
	startTimer()
}

//Shuffles the words array.
function shuffleArray(array, words) {
	for (var i = array.length - 1; i > 0; i--) {
		var j = Math.floor(Math.random() * (i + 1));
		var temp = array[i];
		array[i] = array[j];
		array[j] = temp;
		temp = words[i];
		words[i] = words[j];
		words[j] = temp;
	}
}

//Sorts into groups
function sortGroups(array, words) {
	for (var number = 0; number < 16; number++) {
		document.getElementById(number).innerHTML = words[number];
		var q = Math.floor(number/4);
		groups[q].push(array.indexOf(number));
		groups[q] = insertionSort(groups[q]);
	}
}

function insertionSort(list) {
	var value = 0;
	var index = 0;
	for (var i = 1; i < list.length; i++) {
		value = list[i];
		index = i;
		while (index > 0 && value < list[index - 1]) {
			list[index] = list[index - 1];
			index -= 1;
		}
		list[index] = value;
	}
	return list;
}

function openFullScreen() {
	document.body.scrollTop = 0; // Safari
	document.documentElement.scrollTop = 0; // Chrome, Firefox, Internet Explorer and Opera
	if (elem.requestFullscreen) {
		elem.requestFullscreen();
	} else if (elem.mozRequestFullScreen) { // Firefox 
		elem.mozRequestFullScreen();
	} else if (elem.webkitRequestFullscreen) { // Chrome, Safari and Opera
		elem.webkitRequestFullscreen();
	} else if (elem.msRequestFullscreen) { /* Internet Explorer and Edge */
		elem.msRequestFullscreen();
	}
	document.getElementById("imageLogo1").style.display = "none";
	document.getElementById("imageLogo2").style.display = "none";
	document.getElementById("lives").style.display = "none";
	document.getElementById("progress").style.display = "block";
	document.getElementById("next").style.display = "block";
	
}

//Starts the countdown timer

function startTimer() {
	var elem = document.getElementById("bar");   
	var width = 0;
	var id = setInterval(frame, 50);
	function frame() {
		if (width >= 50 && alive == true) {
			clearInterval(id);
			for (var number = 0; number < 16; number++) {
				alive = false;
				document.getElementById(number).style.color = "#1e4664";
				document.getElementById(number).style.backgroundColor = "#cccccc";
			}
		} else {
			width += (50*50)/(numMins*60*1000); 
			elem.style.width = width + 'vw'; 
		}
	}
}


//--------------------------------- Selection ------------------------------------------\\
	
function selectButton(selected) {
	value = 0;
	repeated = false;
	
	//Checks each value in guess to see if already selected
	while (value < 4 && repeated == false && alive == true){
		if (guess[value] == selected){
			document.getElementById(selected).style.color = "#1e4664";
			document.getElementById(selected).style.backgroundColor = "#f3f9ff";
			
			//Removes value from list
			for (m = value; m < guess.length; m++) {
				guess[m] = guess[m+1];
			}
			repeated = true;
			guess.pop();
		}
		value += 1;
	}

	//Add guess to guess array
	if (repeated == false && alive == true) {
		guess.push(selected);
		document.getElementById(selected).style.color = "white";
		document.getElementById(selected).style.backgroundColor = coloursList[0];
	}
	
	//If guess has four values, sort guess array and then check if it matches.
	if (guess.length >= 4 && alive == true) {
		guess = insertionSort(guess);
			
		if (checkGroup(guess) == true) {
			document.getElementById("whoosh").play();
			setTimeout(removeGuess, 200, guess);
		}
		else {
			setTimeout(clearGuess, 200, guess);
		}
	}
}

//Checks if sorted guess matches any of the wordlist groups.
function checkGroup(guess) {
	var k = 0;
	var found = false;
	while (found == false && k < groups.length) {
		if (groups[k].toString() == guess.toString()) {
			found = true;
		}
		k += 1
	}
	return found;
}

//Incorrect guesses
function clearGuess(guess) {
	if (counter == 2) {
		document.getElementById("lives"+lives).style.display = "none";
		lives -= 1;
	}
	
	if (lives == 0) {
		alive = false;
		for (var number = 0; number < 16; number++) {
			document.getElementById(number).style.color = "#1e4664";
			document.getElementById(number).style.backgroundColor = "#cccccc";
		}
	} else {
		while (guess.length > 0) {
			document.getElementById(guess[0]).style.backgroundColor = "#f3f9ff";
			document.getElementById(guess[0]).style.color = "#1e4664";
			guess.shift();
		}
	}	
}

//Correct guesses
function removeGuess(guess) {
	buttonNum = 0;
		
	while (guess.length > 0) {
		document.getElementById(guess[0]).style.display = "none";
		document.getElementById(4*counter + buttonNum + 16).innerHTML = words[guess[0]];
		document.getElementById(4*counter + buttonNum + 16).style.display = "block";
		guess.shift();
		buttonNum += 1;
	}
	coloursList.shift();
	counter += 1;
	
	if (counter == 2) {
		document.getElementById("lives").style.display = "block";
	} else if (counter == 3) {
		showAnswers();
	}
}

function showAnswers() {
	document.getElementById("wall").style.display = "none";
	document.getElementById("next").style.display = "none";
	document.getElementById("homeReturn").style.display = "block";
	var currentNum = counter * 4 + 16;
	for (var v = 0; v < 16; v++) {
		found = false;
		index = 16;
		while (found == false && index < 32) {
			if (grid[v] == document.getElementById(index).innerHTML) {
				found = true;
			}
			index += 1;
		}
		if (found == false) {
			document.getElementById(currentNum).innerHTML = grid[v];
			document.getElementById(currentNum).style.display = "block";
			currentNum += 1;
		}
	}	
}
	
